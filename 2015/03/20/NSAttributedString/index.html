<!DOCTYPE html>
<!--[if lte IE 8 ]>
<html class="ie" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<!--
***************  *      *     *
      8          *    *       *
      8          *  *         *
      8          **           *
      8          *  *         *
      8          *    *       *
      8          *      *     *
      8          *        *   ***********    -----Theme By Kieran(http://go.kieran.top)
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<!--<![endif]-->

<head>
  <title> NSAttributedString | Jmsp&#39;s Tips</title>
  <!-- Meta data -->
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Jmsp's Tips">
    <meta name="author" content="Mr Fox">
    <meta name="description" content="" />
    <meta name="keywords" content="iOS,Android,OC,Python,Swift,html5,开发者,程序猿,程序猿,极客,编程,代码,开源,IT网站,Developer,Programmer,Coder,html" />

    <!-- Favicon, (keep icon in root folder) -->
    <link rel="Shortcut Icon" href="/img/favicon.ico" type="image/ico">

    <link rel="alternate" href="/atom.xml" title="Jmsp&#39;s Tips" type="application/atom+xml">
    <link rel="stylesheet" href="/css/all.css" media="screen" type="text/css">
    
    <link rel="stylesheet" href="/highlightjs/vs.css" type="text/css">
    

    <!--[if IE 8]>
    <link rel="stylesheet" type="text/css" href="/css/ie8.css" />
    <![endif]-->

    <!-- jQuery | Load our jQuery, with an alternative source fallback to a local version if request is unavailable -->
    <script src="/js/jquery-1.11.1.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/jquery-1.11.1.min.js"><\/script>')</script>

    <!-- Load these in the <head> for quicker IE8+ load times -->
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="/js/html5shiv.min.js"></script>
    <script src="/js/respond.min.js"></script>
    <![endif]-->

  
  
  

  <style>.col-md-8.col-md-offset-2.opening-statement img{display:none;}</style>
</head>

<!--
<body class="post-template">
-->
<body id="index" class="lightnav animsition">

      <!-- ============================ Off-canvas navigation =========================== -->

    <div class="sb-slidebar sb-right sb-style-overlay sb-momentum-scrolling">
        <div class="sb-close" aria-label="Close Menu" aria-hidden="true">
            <img src="/img/close.png" alt="Close"/>
        </div>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu">
            <li><a href="/" class="animsition-link" title="Home">Home</a></li>
            <li><a href="/archives" class="animsition-link" title="archive">archives</a></li>
            <!-- Dropdown Menu -->
			 
            
        	<li>
        		<a class="sb-toggle-submenu">Categories<span class="sb-caret"></span></a>
            	<ul class="sb-submenu">
				  	
				    <li><a href="/categories/Android/" class="animsition-link">Android<small>(4)</small></a></li>
				    
				    <li><a href="/categories/Cocoapods/" class="animsition-link">Cocoapods<small>(1)</small></a></li>
				    
				    <li><a href="/categories/MQTT/" class="animsition-link">MQTT<small>(1)</small></a></li>
				    
				    <li><a href="/categories/MacOS/" class="animsition-link">MacOS<small>(1)</small></a></li>
				    
				    <li><a href="/categories/OC/" class="animsition-link">OC<small>(23)</small></a></li>
				    
				    <li><a href="/categories/PHP/" class="animsition-link">PHP<small>(6)</small></a></li>
				    
				    <li><a href="/categories/Python/" class="animsition-link">Python<small>(9)</small></a></li>
				    
				    <li><a href="/categories/Python3/" class="animsition-link">Python3<small>(1)</small></a></li>
				    
				    <li><a href="/categories/ReactNative/" class="animsition-link">ReactNative<small>(1)</small></a></li>
				    
				    <li><a href="/categories/Swift/" class="animsition-link">Swift<small>(21)</small></a></li>
				    
				    <li><a href="/categories/iOS/" class="animsition-link">iOS<small>(1)</small></a></li>
				    
				    <li><a href="/categories/npm/" class="animsition-link">npm<small>(1)</small></a></li>
				    
				    <li><a href="/categories/小程序/" class="animsition-link">小程序<small>(3)</small></a></li>
				    
				    <li><a href="/categories/工具/" class="animsition-link">工具<small>(5)</small></a></li>
				    
				    <li><a href="/categories/微信小程序/" class="animsition-link">微信小程序<small>(1)</small></a></li>
				    
				    <li><a href="/categories/逆向工程/" class="animsition-link">逆向工程<small>(1)</small></a></li>
				    
				    <li><a href="/categories/随笔/" class="animsition-link">随笔<small>(2)</small></a></li>
				    
				</ul>
        	</li>
			
            
        </ul>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu secondary">
            <li><a href="/about.html" class="animsition-link" title="about">About</a></li>
            <li><a href="/atom.xml" class="animsition-link" title="rss">RSS</a></li>
        </ul>
    </div>
    
    <!-- ============================ END Off-canvas navigation =========================== -->

    <!-- ============================ #sb-site Main Page Wrapper =========================== -->

    <div id="sb-site">
        <!-- #sb-site - All page content should be contained within this id, except the off-canvas navigation itself -->

        <!-- ============================ Header & Logo bar =========================== -->

        <div id="navigation" class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <!-- Nav logo -->
                    <div class="logo">
                        <a href="/" title="Logo" class="animsition-link">
                         <img src="/img/logo.png" alt="Logo" width="35px;"/> 
                        </a>
                    </div>
                    <!-- // Nav logo -->
                    <!-- Info-bar -->
                    <nav>
                        <ul class="nav">
                            <li><a href="/" class="animsition-link">Jmsp's Tips</a></li>
                            <li class="nolink"><span>Always </span>Creative.</li>
                            
                            <li><a href="https://github.com/zhangzhaopds" title="Github" target="_blank"><i class="icon-github"></i></a></li>
                            
                            
                            
                            
                            <li><a href="https://google.com/" title="Google-Plus" target="_blank"><i class="icon-google-plus"></i></a></li>
                            
                            
                            <li class="nolink"><span>Welcome!</span></li>
                        </ul>
                    </nav>
                    <!--// Info-bar -->
                </div>
                <!-- // .container -->
                <div class="learnmore sb-toggle-right">More</div>
                <button type="button" class="navbar-toggle menu-icon sb-toggle-right" title="More">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar before"></span>
                <span class="icon-bar main"></span>
                <span class="icon-bar after"></span>
                </button>
            </div>
            <!-- // .navbar-inner -->
        </div>

        <!-- ============================ Header & Logo bar =========================== -->


      
<section id="intro">
    <div class="container">
        <div class="row col-md-offset-2">
            <div class="col-md-8">
    			<span class="post-meta">
      <time datetime="2015-03-20T11:14:35.000Z" itemprop="datePublished">
          2015-03-20
      </time>
    
    
    | 
    <a href='/tags/NSAttributedString/'>NSAttributedString</a>
    
    
</span>
                <h1> NSAttributedString</h1>
            </div>
        </div>
        <div class="col-md-8 col-md-offset-2">
      		<blockquote>
<p>NSAttributedString 可以非常方便的实现文字排版和图文混排功能. 共有21中效果(API), 本文将较详细的介绍21种的属性的使用</p>
</blockquote>
<h3 id="API"><a href="#API" class="headerlink" title="API"></a>API</h3><h4 id="文本API"><a href="#文本API" class="headerlink" title="文本API:"></a>文本API:</h4><pre><code>Character Attributes , NSAttributedString 共有21个属性
</code></pre><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSFontAttributeName               -&gt;设置字体属性，默认值：字体：<span class="function"><span class="title">Helvetica</span><span class="params">(Neue)</span></span> 字号：<span class="number">12</span></span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSParagraphStyleAttributeName</span>     -&gt;设置文本段落排版格式，取值为 <span class="built_in">NSParagraphStyle</span> 对象(详情见下面的API说明)</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSForegroundColorAttributeName</span>    -&gt;设置字体颜色，取值为 <span class="built_in">UIColor</span>对象，默认值为黑色</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSBackgroundColorAttributeName</span>    -&gt;设置字体所在区域背景颜色，取值为 <span class="built_in">UIColor</span>对象，默认值为<span class="literal">nil</span>, 透明色</span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSLigatureAttributeName           -&gt;设置连体属性，取值为NSNumber 对象(整数)，<span class="number">0</span> 表示没有连体字符，<span class="number">1</span> 表示使用默认的连体字符</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSKernAttributeName</span>               -&gt;设置字符间距，取值为 <span class="built_in">NSNumber</span> 对象（整数），正值间距加宽，负值间距变窄</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSStrikethroughStyleAttributeName</span> -&gt;设置删除线，取值为 <span class="built_in">NSNumber</span> 对象（整数）</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSStrikethroughColorAttributeName</span> -&gt;设置删除线颜色，取值为 <span class="built_in">UIColor</span> 对象，默认值为黑色</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSUnderlineStyleAttributeName</span>     -&gt;设置下划线，取值为 <span class="built_in">NSNumber</span> 对象（整数），枚举常量 <span class="built_in">NSUnderlineStyle</span>中的值，与删除线类似</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSUnderlineColorAttributeName</span>    -&gt;设置下划线颜色，取值为 <span class="built_in">UIColor</span> 对象，默认值为黑色</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSStrokeWidthAttributeName</span>       -&gt;设置笔画宽度(粗细)，取值为 <span class="built_in">NSNumber</span> 对象（整数），负值填充效果，正值中空效果</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSStrokeColorAttributeName</span>       -&gt;填充部分颜色，不是字体颜色，取值为 <span class="built_in">UIColor</span> 对象</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSShadowAttributeName</span>            -&gt;设置阴影属性，取值为 <span class="built_in">NSShadow</span> 对象</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSTextEffectAttributeName</span>        -&gt;设置文本特殊效果，取值为 <span class="built_in">NSString</span> 对象，目前只有图版印刷效果可用</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSBaselineOffsetAttributeName</span>    -&gt;设置基线偏移值，取值为 <span class="built_in">NSNumber</span> （<span class="keyword">float</span>）,正值上偏，负值下偏</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSObliquenessAttributeName</span>       -&gt;设置字形倾斜度，取值为 <span class="built_in">NSNumber</span> （<span class="keyword">float</span>）,正值右倾，负值左倾</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSExpansionAttributeName</span>         -&gt;设置文本横向拉伸属性，取值为 <span class="built_in">NSNumber</span> （<span class="keyword">float</span>）,正值横向拉伸文本，负值横向压缩文本</span><br></pre></td></tr></table></figure>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="constant">NSWritingDirectionAttributeName </span> -&gt;设置文字书写方向，从左向右书写或者从右向左书写</span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSVerticalGlyphFormAttributeName -&gt;设置文字排版方向，取值为 NSNumber 对象(整数)，<span class="number">0</span> 表示横排文本，<span class="number">1</span> 表示竖排文本</span><br></pre></td></tr></table></figure>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="constant">NSLinkAttributeName </span>             -&gt;设置链接属性，点击后调用浏览器打开指定<span class="constant">URL地</span>址</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSAttachmentAttributeName</span>        -&gt;设置文本附件,取值为<span class="built_in">NSTextAttachment</span>对象,常用于文字图片混排</span><br></pre></td></tr></table></figure>
<h4 id="段落API"><a href="#段落API" class="headerlink" title="段落API:"></a>段落API:</h4><pre><code>NSParagraphStyleAttributeName
</code></pre><p>值为NSParagraphStyle，设置段落属性，默认值为[NSParagraphStyle defaultParagraphStyle]返回的值。<br>NSMutableParagraphStyle与NSParagraphStyle包括一下属性</p>
<pre><code>alignment                -&gt;对齐方式
firstLineHeadIndent      -&gt;首行缩进
headIndent               -&gt;缩进
tailIndent               -&gt;尾部缩进
lineBreakMode            -&gt;断行方式
maximumLineHeight        -&gt;最大行高
minimumLineHeight        -&gt;最低行高
lineSpacing              -&gt;行距
paragraphSpacing         -&gt;段距
paragraphSpacingBefore   -&gt;段首空间
baseWritingDirection     -&gt;句子方向
lineHeightMultiple       -&gt;可变行高,乘因数。
hyphenationFactor        -&gt;连字符属性
</code></pre><h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><pre><code>self.titleLabel = [[UILabel alloc] initWithFrame:CGRectMake(20, 50, 320, 400)];

self.titleLabel.numberOfLines = 0;

self.titleLabel.layer.borderColor = [UIColor grayColor].CGColor;

self.titleLabel.layer.borderWidth = 0.5;
self.titleLabel.textAlignment = NSTextAlignmentLeft;
[self.view addSubview:self.titleLabel];

NSString *string = @&quot;An NSAttributedString object manages character strings and associated sets of attributes (for example, font and kerning) that apply to individual characters or ranges of characters in the string. An association of characters and their attributes is called an attributed string. &quot;;
这句话就是对这个类的一个最简明扼要的概括。
NSAttributedString管理一个字符串，以及与该字符串中的
单个字符或某些范围的字符串相关的属性。它有一个子类NSMutableAttributedString具体实现时,NSAttributedString
维护了一个NSString，用来保存最原始的字符串，另有一个NSDictionary用来保存各个子串/字符的属性。        
</code></pre><hr>
<h4 id="创建"><a href="#创建" class="headerlink" title="创建"></a>创建</h4><pre><code>#pragma mark - NSMutableAttributedString 创建
三种初始化方法,NSMutableAttributedString没有初始化方法,使用父类初始化方法, 使用initWithString:, initWithString:attributes:, 或者 initWithAttributedString: 

NSAttributedString *attStri = [[NSAttributedString alloc] initWithString:string attributes:@{NSFontAttributeName:[UIFont systemFontOfSize:30]}];

NSMutableAttributedString *mAttStri = [[NSMutableAttributedString alloc] initWithString:string];
</code></pre><hr>
<h4 id="字体属性"><a href="#字体属性" class="headerlink" title="字体属性"></a>字体属性</h4><pre><code>#pragma mark ** 1. NSFontAttributeName 设置字体属性
/* 字体大小 及 字体类型 */
NSRange font_range = [string rangeOfString:@&quot;An&quot;];
[mAttStri addAttribute:NSFontAttributeName value:[UIFont systemFontOfSize:30] range:font_range];
[mAttStri addAttribute:NSFontAttributeName value:[UIFont fontWithName:@&quot;Courier-BoldOblique&quot; size:17.0] range:NSMakeRange(10, 10)];
</code></pre><hr>
<h4 id="文本段落排版格式"><a href="#文本段落排版格式" class="headerlink" title="文本段落排版格式"></a>文本段落排版格式</h4><pre><code>#pragma mark ** 2. NSParagraphStyleAttributeName 设置文本段落排版格式
NSMutableParagraphStyle *style = [[NSMutableParagraphStyle alloc] init];
style.firstLineHeadIndent = 20;
style.lineSpacing = 10;
[mAttStri addAttribute:NSParagraphStyleAttributeName value:style range:NSMakeRange(0, mAttStri.length / 2)];
</code></pre><hr>
<h4 id="字体颜色"><a href="#字体颜色" class="headerlink" title="字体颜色"></a>字体颜色</h4><pre><code>#pragma mark ** 3. NSForegroundColorAttributeName 设置字体颜色
/* 值为UIColor，字体颜色，默认为黑色. */
[mAttStri addAttribute:NSForegroundColorAttributeName value:[UIColor redColor] range:NSMakeRange(0, mAttStri.length)];
</code></pre><hr>
<h4 id="字体所在区域背景颜色"><a href="#字体所在区域背景颜色" class="headerlink" title="字体所在区域背景颜色"></a>字体所在区域背景颜色</h4><pre><code>#pragma mark ** 4. NSBackgroundColorAttributeName 设置字体所在区域背景颜色
/* 值为UIColor，字体背景色，默认透明. */
[mAttStri addAttribute:NSBackgroundColorAttributeName value:[UIColor grayColor] range:NSMakeRange(0, 20)];
</code></pre><hr>
<h4 id="连体属性"><a href="#连体属性" class="headerlink" title="连体属性"></a>连体属性</h4><pre><code>#pragma mark ** 5. NSLigatureAttributeName 设置连体属性
/* 取值为NSNumber 对象(整数). 0 表示没有连体字符, 1 表示使用默认的连体字符. 一般中文用不到，在英文中可能出现相邻字母连笔的情况 */
[mAttStri addAttribute:NSLigatureAttributeName value:@0 range:NSMakeRange(0, mAttStri.length)];
</code></pre><hr>
<h4 id="字符间距"><a href="#字符间距" class="headerlink" title="字符间距"></a>字符间距</h4><pre><code>#pragma mark ** 6. NSKernAttributeName 设置字符间距
/* 值为浮点数NSNumber，字距属性，默认值为0。*/
[mAttStri addAttribute:NSKernAttributeName value:@3 range:NSMakeRange(0, mAttStri.length)];
</code></pre><hr>
<h4 id="删除线"><a href="#删除线" class="headerlink" title="删除线"></a>删除线</h4><pre><code>#pragma mark ** 7. NSStrikethroughStyleAttributeName 设置删除线
/* 值为整型NSNumber，可取值为
    enum {

    NSUnderlineStyleNone = 0×00,

    NSUnderlineStyleSingle = 0×01,

    }; 设置删除线。
*/
[mAttStri addAttribute:NSStrikethroughStyleAttributeName value:@3 range:NSMakeRange(3, 7)];
</code></pre><hr>
<h4 id="删除线颜色"><a href="#删除线颜色" class="headerlink" title="删除线颜色"></a>删除线颜色</h4><pre><code>#pragma mark ** 8. NSStrikethroughColorAttributeName 设置删除线颜色
/* 这个属性的值是一个UIColor对象. */
[mAttStri addAttribute:NSStrikethroughColorAttributeName value:[UIColor blueColor] range:NSMakeRange(3, 3)];
</code></pre><hr>
<h4 id="下划线"><a href="#下划线" class="headerlink" title="下划线"></a>下划线</h4><pre><code>#pragma mark ** 9. NSUnderlineStyleAttributeName 设置下划线
/* 取值为 NSNumber 对象（整数），枚举常量 NSUnderlineStyle中的值，与删除线类似 */
[mAttStri addAttribute:NSUnderlineStyleAttributeName value:@2 range:NSMakeRange(6, 5)];
</code></pre><hr>
<h4 id="下划线颜色"><a href="#下划线颜色" class="headerlink" title="下划线颜色"></a>下划线颜色</h4><pre><code>#pragma mark ** 10. NSUnderlineColorAttributeName 设置下划线颜色
/* 这个属性的值是一个UIColor对象.默认值为nil. */
[mAttStri addAttribute:NSUnderlineColorAttributeName value:[UIColor blackColor] range:NSMakeRange(6, 5)];
</code></pre><hr>
<h4 id="笔画粗细"><a href="#笔画粗细" class="headerlink" title="笔画粗细"></a>笔画粗细</h4><pre><code>#pragma mark ** 11. NSStrokeWidthAttributeName 设置笔画宽度(粗细)
/* 值为浮点数NSNumber。设置笔画的粗细。负值填充效果，正值中空效果. */
[mAttStri addAttribute:NSStrokeWidthAttributeName value:@10 range:NSMakeRange(50, 30)];
</code></pre><hr>
<h4 id="填充部分颜色-不是字体颜色"><a href="#填充部分颜色-不是字体颜色" class="headerlink" title="填充部分颜色(不是字体颜色)"></a>填充部分颜色(不是字体颜色)</h4><pre><code>#pragma mark ** 12. NSStrokeColorAttributeName 填充部分颜色，
/* 不是字体颜色，取值为 UIColor 对象 默认值为nil，设置的属性同ForegroundColor。*/
[mAttStri addAttribute:NSStrokeColorAttributeName value:[UIColor orangeColor] range:NSMakeRange(50, 20)];
</code></pre><hr>
<h4 id="阴影属性"><a href="#阴影属性" class="headerlink" title="阴影属性"></a>阴影属性</h4><pre><code>#pragma mark ** 13. NSShadowAttributeName 设置阴影属性

/* 值为NSShadow，设置笔画的阴影，默认值为nil。*/
NSShadow *shadow = [[NSShadow alloc]init];
shadow.shadowOffset = CGSizeMake(10, 10);
shadow.shadowColor = [UIColor greenColor];
[mAttStri addAttribute:NSShadowAttributeName value:shadow range:NSMakeRange(20, 10)];
</code></pre><hr>
<h4 id="文本特效"><a href="#文本特效" class="headerlink" title="文本特效"></a>文本特效</h4><pre><code>#pragma mark ** 14. NSTextEffectAttributeName 设置文本特殊效果
/* 这个属性的值是一个NSString对象。使用此属性指定的文字效果，如NSTextEffectLetterpressStyle。此属性的默认值为nil，表示没有文本效应。*/
[mAttStri addAttribute:NSTextEffectAttributeName value:NSTextEffectLetterpressStyle range:NSMakeRange(80, 10)];
</code></pre><hr>
<h4 id="基线偏移值"><a href="#基线偏移值" class="headerlink" title="基线偏移值"></a>基线偏移值</h4><pre><code>#pragma mark ** 15. NSBaselineOffsetAttributeName 设置基线偏移值
/* 此属性的值是包含一个浮点值的NSNumber对象,表示的字符从基线偏移的NSNumber对象，默认值是0。正值上偏，负值下偏 */
[mAttStri addAttribute:NSBaselineOffsetAttributeName value:@5 range:NSMakeRange(112, 10)];
</code></pre><hr>
<h4 id="字形-左倾-右倾"><a href="#字形-左倾-右倾" class="headerlink" title="字形(左倾 右倾)"></a>字形(左倾 右倾)</h4><pre><code>#pragma mark ** 16. NSObliquenessAttributeName 设置字形倾斜度取值为 NSNumber （float）,正值右倾，负值左倾
/* 此属性的值是包含一个浮点值的NSNumber对象。默认值为0，表示没有倾斜, 正值右倾，负值左倾。 */
[mAttStri addAttribute:NSObliquenessAttributeName value:@0.8 range:NSMakeRange(135, 15)];
</code></pre><hr>
<h4 id="文本横向-拉伸-压缩"><a href="#文本横向-拉伸-压缩" class="headerlink" title="文本横向 拉伸 压缩"></a>文本横向 拉伸 压缩</h4><pre><code>#pragma mark ** 17. NSExpansionAttributeName 设置文本横向拉伸属性
/* 取值为 NSNumber(float), 正值横向拉伸文本, 负值横向压缩文本 */
NSRange range =  [string rangeOfString:@&quot;An association of&quot;];
[mAttStri addAttribute:NSExpansionAttributeName value:@1.0 range:range];
</code></pre><hr>
<h4 id="文字书写方向"><a href="#文字书写方向" class="headerlink" title="文字书写方向"></a>文字书写方向</h4><pre><code>#pragma mark ** 18. NSWritingDirectionAttributeName 设置文字书写方向
/** 
 * 取值为包含NSNumber对象的数组. 从左向右书写或者从右向左书写.
 *
 * The values of the NSNumber objects should be 0, 1, 2, or 3, for LRE, RLE, LRO, or RLO respectively, and combinations of NSWritingDirectionLeftToRight and NSWritingDirectionRightToLeft with NSTextWritingDirectionEmbedding or NSTextWritingDirectionOverride, as shown in Values of NSWritingDirectionAttributeName and equivalent markup.
 */
NSRange rang2 = [string rangeOfString:@&quot;characters and their&quot;];
[mAttStri addAttribute:NSWritingDirectionAttributeName value:@[@3] range:rang2];
</code></pre><hr>
<h4 id="文字排版方向-水平、垂直"><a href="#文字排版方向-水平、垂直" class="headerlink" title="文字排版方向(水平、垂直)"></a>文字排版方向(水平、垂直)</h4><pre><code>#pragma mark ** 19. NSVerticalGlyphFormAttributeName 设置文字排版方向
/**
 * 值为整型NSNumber，0为水平排版的字，1为垂直排版的字。注意,在iOS中, 总是以横向排版
 *
 * In iOS, horizontal text is always used and specifying a different value is undefined.
 */
[mAttStri addAttribute:NSVerticalGlyphFormAttributeName value:@1 range:NSMakeRange(1, 10)];
</code></pre><hr>
<h4 id="超链接"><a href="#超链接" class="headerlink" title="超链接"></a>超链接</h4><pre><code>#pragma mark ** 20. NSLinkAttributeName 设置链接属性
/**
 * 此属性的值是NSURL对象（首选）或一个NSString对象。此属性的默认值为nil，表示没有链接。
 * UILabel无法使用该属性, 可以使用UITextView 控件.
 */
UITextView *textView = [[UITextView alloc] initWithFrame:CGRectMake(20, 450, 320, 60)];
[self.view addSubview:textView];
textView.backgroundColor  = [UIColor lightGrayColor];

NSString *strLink = @&quot;百度链接&quot;;
NSAttributedString *attStr  = [[NSAttributedString alloc] initWithString:strLink attributes:@{NSLinkAttributeName: [NSURL URLWithString:@&quot;http://www.baidu.com&quot;]}];

textView.editable = NO;

/* 签订协议, 指定代理人之后. 但点击链接时, 会回调协议方法 (- textView:shouldInteractWithURL:inRange:) */
textView.delegate = self;

textView.attributedText = attStr;
</code></pre><hr>
<h4 id="文本附件"><a href="#文本附件" class="headerlink" title="文本附件"></a>文本附件</h4><pre><code>#pragma mark ** 21. NSAttachmentAttributeName 设置文本附件
/* 这个属性的值是一个NSTextAttachment对象。此属性的默认值为nil，表示无附件。*/

/**
 * 关于NSTextAttachment类的简单说明
 *
 * NSTextAttachment 类有一个指定的初始化方法(- initWithData:ofType:), 需要指定附件文档的数据和附件文件的类型. 如果附件文档数据指定nil, 那么系统将会默认指定为image对象作为值. 因此, 也可以通过这个特性实现图文混排.
 * 下面就以附件为image对象来说明NSAttachmentAttributeName的使用.
 */

UILabel *label = [[UILabel alloc] initWithFrame:CGRectMake(20, 550, 320, 60)];
label.backgroundColor = [UIColor yellowColor];
[self.view addSubview:label];

/* 下面实现在百度两个汉字之间插入一个照片 */
NSString *stiAtt = @&quot;百度&quot;;

NSTextAttachment *attach = [[NSTextAttachment alloc] initWithData:nil ofType:nil];
attach.bounds = CGRectMake(0, 0, 50, 50);
attach.image = [UIImage imageNamed:@&quot;baidu.jpg&quot;];

NSAttributedString *strAtt = [NSAttributedString attributedStringWithAttachment:attach];

NSMutableAttributedString *strMatt = [[NSMutableAttributedString alloc] initWithString:stiAtt];

[strMatt insertAttributedString:strAtt atIndex:1];

label.attributedText = strMatt;

self.titleLabel.attributedText = mAttStri;
[self.titleLabel sizeToFit];
}
</code></pre><hr>
<h4 id="UITextView协议"><a href="#UITextView协议" class="headerlink" title="UITextView协议"></a>UITextView协议</h4><pre><code>#pragma mark - textView delegate 
-(BOOL)textView:(UITextView *)textView shouldInteractWithURL:(NSURL *)URL inRange:(NSRange)characterRange {
NSLog(@&quot;%s&quot;, __func__);
NSLog(@&quot;url: %@&quot;, URL);
return YES;
}
</code></pre><hr>

            <div class="clearfix"></div>
            <hr class="nogutter">
        </div>
        <nav class="pagination" role="pagination">
    
    <a class="pull-left" href="/2015/08/09/UITextView/" style="float: left;">
        ← UITextView
    </a>
    
    
    <a class="pull-right" href="/2015/03/06/runtime的那些巧用/">
        Runtime →
    </a>
    
</nav>

        <div class="duoshuo">


</div>
    </div>
</section>


      
<!-- ============================ Footer =========================== -->

<footer>
    <div class="container">
            <div class="copy">
                <p>
                    &copy; 2014<script>new Date().getFullYear()>2010&&document.write("-"+new Date().getFullYear());</script>, Content By Mr Fox. All Rights Reserved.
                </p>
                <p>Theme By <a href="//go.kieran.top" style="color: #767D84">Kieran</a></p>
            </div>
            <div class="social">
                <ul>
                    
                    <li><a href="https://github.com/zhangzhaopds" title="Github" target="_blank"><i class="icon-github"></i></a>&nbsp;</li>
                    
                    
                    
                    
                    <li><a href="https://google.com/" title="Google-Plus" target="_blank"><i class="icon-google-plus"></i></a>&nbsp;</li>
                    
                    
                </ul>
            </div>
            <div class="clearfix"> </div>
        </div>
</footer>

<!-- ============================ END Footer =========================== -->
      <!-- Load our scripts -->
<!-- Resizable 'on-demand' full-height hero -->
<script type="text/javascript">
    var resizeHero = function () {
        var hero = $(".cover,.heightblock"),
            window1 = $(window);
        hero.css({
            "height": window1.height()
        });
    };

    resizeHero();

    $(window).resize(function () {
        resizeHero();
    });
</script>
<script src="/js/plugins.min.js"></script><!-- Bootstrap core and concatenated plugins always load here -->
<script src="/js/jquery.flexslider-min.js"></script><!-- Flexslider plugin -->
<script src="/js/scripts.js"></script><!-- Theme scripts -->


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$('#intro').find('img').each(function(){
  var alt = this.alt;

  if (alt){
    $(this).after('<span class="caption" style="display:none">' + alt + '</span>');
  }

  $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="gallery" />');
});
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

<!-- Initiate flexslider plugin -->
<script type="text/javascript">
    $(document).ready(function($) {
      (function(){
        console.log('font');
        var getCss = function(path) {
          var head = document.getElementsByTagName('head')[0];
          link = document.createElement('link');
          link.href = path;
          link.rel = 'stylesheet';
          link.type = 'text/css';
          head.appendChild(link);
        };
        getCss('https://fonts.googleapis.com/css?family=Montserrat:400,700');
        getCss('https://fonts.googleapis.com/css?family=Open+Sans:400,600');
      })();
      $('.flexslider').flexslider({
        animation: "fade",
        prevText: "",
        nextText: "",
        directionNav: true
      });
    });
</script>

</body>
</html>
