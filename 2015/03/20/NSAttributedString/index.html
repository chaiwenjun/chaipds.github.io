<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <link rel="dns-prefetch" href="http://yoursite.com">
  <title> NSAttributedString | Jmsp&#39;s Tips</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="NSAttributedString 可以非常方便的实现文字排版和图文混排功能. 共有21中效果(API), 本文将较详细的介绍21种的属性的使用

API文本API:Character Attributes , NSAttributedString 共有21个属性
1NSFontAttributeName               -&amp;gt;设置字体属性，默认值：字体：Helvetica(Ne">
<meta property="og:type" content="article">
<meta property="og:title" content=" NSAttributedString">
<meta property="og:url" content="http://yoursite.com/2015/03/20/NSAttributedString/index.html">
<meta property="og:site_name" content="Jmsp's Tips">
<meta property="og:description" content="NSAttributedString 可以非常方便的实现文字排版和图文混排功能. 共有21中效果(API), 本文将较详细的介绍21种的属性的使用

API文本API:Character Attributes , NSAttributedString 共有21个属性
1NSFontAttributeName               -&amp;gt;设置字体属性，默认值：字体：Helvetica(Ne">
<meta property="og:updated_time" content="2016-11-18T02:38:52.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content=" NSAttributedString">
<meta name="twitter:description" content="NSAttributedString 可以非常方便的实现文字排版和图文混排功能. 共有21中效果(API), 本文将较详细的介绍21种的属性的使用

API文本API:Character Attributes , NSAttributedString 共有21个属性
1NSFontAttributeName               -&amp;gt;设置字体属性，默认值：字体：Helvetica(Ne">
  
    <link rel="alternative" href="/atom.xml" title="Jmsp&#39;s Tips" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/main.css" type="text/css">
  
<!-- baidu Analytics -->
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?d400b2b9cf7d1a287b60931c6cbae186";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

<!-- End baidu Analytics -->


</head>

<body>
  <div id="container">
    <div class="left-col">
      <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img src="http://7xoz39.com1.z0.glb.clouddn.com/BLOG_IMG_0412.png" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Jmsp</a></h1>
		</hgroup>

		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">主页</a></li>
	        
				<li><a href="/archives">所有文章</a></li>
	        
				<li><a href="/categories/OC">OC</a></li>
	        
				<li><a href="/categories/Swift">Swift</a></li>
	        
				<li><a href="/categories/Android">Android</a></li>
	        
				<li><a href="/categories/ReactNative">ReactNative</a></li>
	        
				<li><a href="/categories/PHP">PHP</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
	        
    		
    			
            
    			
            
    			
            
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/zhangzhaopds weibo: " title="github">github</a>
		        
					<a class="rss" target="_blank" href="/#" title="rss">rss</a>
		        
					<a class="zhihu" target="_blank" href="/#" title="zhihu">zhihu</a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"><i class="icon-list"></i></div>
  		<h1 class="header-author js-mobile-header hide">Jmsp</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img src="http://7xoz39.com1.z0.glb.clouddn.com/BLOG_IMG_0412.png" class="js-avatar">
				
			</div>
			<hgroup>
			  <h1 class="header-author">Jmsp</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
					<li><a href="/categories/OC">OC</a></li>
		        
					<li><a href="/categories/Swift">Swift</a></li>
		        
					<li><a href="/categories/Android">Android</a></li>
		        
					<li><a href="/categories/ReactNative">ReactNative</a></li>
		        
					<li><a href="/categories/PHP">PHP</a></li>
		        
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/zhangzhaopds weibo: " title="github">github</a>
			        
						<a class="rss" target="_blank" href="/#" title="rss">rss</a>
			        
						<a class="zhihu" target="_blank" href="/#" title="zhihu">zhihu</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
        <article id="post-NSAttributedString" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
       NSAttributedString
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>NSAttributedString 可以非常方便的实现文字排版和图文混排功能. 共有21中效果(API), 本文将较详细的介绍21种的属性的使用</p>
</blockquote>
<h3 id="API"><a href="#API" class="headerlink" title="API"></a>API</h3><h4 id="文本API"><a href="#文本API" class="headerlink" title="文本API:"></a>文本API:</h4><pre><code>Character Attributes , NSAttributedString 共有21个属性
</code></pre><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSFontAttributeName               -&gt;设置字体属性，默认值：字体：<span class="function"><span class="title">Helvetica</span><span class="params">(Neue)</span></span> 字号：<span class="number">12</span></span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSParagraphStyleAttributeName</span>     -&gt;设置文本段落排版格式，取值为 <span class="built_in">NSParagraphStyle</span> 对象(详情见下面的API说明)</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSForegroundColorAttributeName</span>    -&gt;设置字体颜色，取值为 <span class="built_in">UIColor</span>对象，默认值为黑色</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSBackgroundColorAttributeName</span>    -&gt;设置字体所在区域背景颜色，取值为 <span class="built_in">UIColor</span>对象，默认值为<span class="literal">nil</span>, 透明色</span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSLigatureAttributeName           -&gt;设置连体属性，取值为NSNumber 对象(整数)，<span class="number">0</span> 表示没有连体字符，<span class="number">1</span> 表示使用默认的连体字符</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSKernAttributeName</span>               -&gt;设置字符间距，取值为 <span class="built_in">NSNumber</span> 对象（整数），正值间距加宽，负值间距变窄</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSStrikethroughStyleAttributeName</span> -&gt;设置删除线，取值为 <span class="built_in">NSNumber</span> 对象（整数）</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSStrikethroughColorAttributeName</span> -&gt;设置删除线颜色，取值为 <span class="built_in">UIColor</span> 对象，默认值为黑色</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSUnderlineStyleAttributeName</span>     -&gt;设置下划线，取值为 <span class="built_in">NSNumber</span> 对象（整数），枚举常量 <span class="built_in">NSUnderlineStyle</span>中的值，与删除线类似</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSUnderlineColorAttributeName</span>    -&gt;设置下划线颜色，取值为 <span class="built_in">UIColor</span> 对象，默认值为黑色</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSStrokeWidthAttributeName</span>       -&gt;设置笔画宽度(粗细)，取值为 <span class="built_in">NSNumber</span> 对象（整数），负值填充效果，正值中空效果</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSStrokeColorAttributeName</span>       -&gt;填充部分颜色，不是字体颜色，取值为 <span class="built_in">UIColor</span> 对象</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSShadowAttributeName</span>            -&gt;设置阴影属性，取值为 <span class="built_in">NSShadow</span> 对象</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSTextEffectAttributeName</span>        -&gt;设置文本特殊效果，取值为 <span class="built_in">NSString</span> 对象，目前只有图版印刷效果可用</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSBaselineOffsetAttributeName</span>    -&gt;设置基线偏移值，取值为 <span class="built_in">NSNumber</span> （<span class="keyword">float</span>）,正值上偏，负值下偏</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSObliquenessAttributeName</span>       -&gt;设置字形倾斜度，取值为 <span class="built_in">NSNumber</span> （<span class="keyword">float</span>）,正值右倾，负值左倾</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSExpansionAttributeName</span>         -&gt;设置文本横向拉伸属性，取值为 <span class="built_in">NSNumber</span> （<span class="keyword">float</span>）,正值横向拉伸文本，负值横向压缩文本</span><br></pre></td></tr></table></figure>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="constant">NSWritingDirectionAttributeName </span> -&gt;设置文字书写方向，从左向右书写或者从右向左书写</span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSVerticalGlyphFormAttributeName -&gt;设置文字排版方向，取值为 NSNumber 对象(整数)，<span class="number">0</span> 表示横排文本，<span class="number">1</span> 表示竖排文本</span><br></pre></td></tr></table></figure>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="constant">NSLinkAttributeName </span>             -&gt;设置链接属性，点击后调用浏览器打开指定<span class="constant">URL地</span>址</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSAttachmentAttributeName</span>        -&gt;设置文本附件,取值为<span class="built_in">NSTextAttachment</span>对象,常用于文字图片混排</span><br></pre></td></tr></table></figure>
<h4 id="段落API"><a href="#段落API" class="headerlink" title="段落API:"></a>段落API:</h4><pre><code>NSParagraphStyleAttributeName
</code></pre><p>值为NSParagraphStyle，设置段落属性，默认值为[NSParagraphStyle defaultParagraphStyle]返回的值。<br>NSMutableParagraphStyle与NSParagraphStyle包括一下属性</p>
<pre><code>alignment                -&gt;对齐方式
firstLineHeadIndent      -&gt;首行缩进
headIndent               -&gt;缩进
tailIndent               -&gt;尾部缩进
lineBreakMode            -&gt;断行方式
maximumLineHeight        -&gt;最大行高
minimumLineHeight        -&gt;最低行高
lineSpacing              -&gt;行距
paragraphSpacing         -&gt;段距
paragraphSpacingBefore   -&gt;段首空间
baseWritingDirection     -&gt;句子方向
lineHeightMultiple       -&gt;可变行高,乘因数。
hyphenationFactor        -&gt;连字符属性
</code></pre><h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><pre><code>self.titleLabel = [[UILabel alloc] initWithFrame:CGRectMake(20, 50, 320, 400)];

self.titleLabel.numberOfLines = 0;

self.titleLabel.layer.borderColor = [UIColor grayColor].CGColor;

self.titleLabel.layer.borderWidth = 0.5;
self.titleLabel.textAlignment = NSTextAlignmentLeft;
[self.view addSubview:self.titleLabel];

NSString *string = @&quot;An NSAttributedString object manages character strings and associated sets of attributes (for example, font and kerning) that apply to individual characters or ranges of characters in the string. An association of characters and their attributes is called an attributed string. &quot;;
这句话就是对这个类的一个最简明扼要的概括。
NSAttributedString管理一个字符串，以及与该字符串中的
单个字符或某些范围的字符串相关的属性。它有一个子类NSMutableAttributedString具体实现时,NSAttributedString
维护了一个NSString，用来保存最原始的字符串，另有一个NSDictionary用来保存各个子串/字符的属性。        
</code></pre><hr>
<h4 id="创建"><a href="#创建" class="headerlink" title="创建"></a>创建</h4><pre><code>#pragma mark - NSMutableAttributedString 创建
三种初始化方法,NSMutableAttributedString没有初始化方法,使用父类初始化方法, 使用initWithString:, initWithString:attributes:, 或者 initWithAttributedString: 

NSAttributedString *attStri = [[NSAttributedString alloc] initWithString:string attributes:@{NSFontAttributeName:[UIFont systemFontOfSize:30]}];

NSMutableAttributedString *mAttStri = [[NSMutableAttributedString alloc] initWithString:string];
</code></pre><hr>
<h4 id="字体属性"><a href="#字体属性" class="headerlink" title="字体属性"></a>字体属性</h4><pre><code>#pragma mark ** 1. NSFontAttributeName 设置字体属性
/* 字体大小 及 字体类型 */
NSRange font_range = [string rangeOfString:@&quot;An&quot;];
[mAttStri addAttribute:NSFontAttributeName value:[UIFont systemFontOfSize:30] range:font_range];
[mAttStri addAttribute:NSFontAttributeName value:[UIFont fontWithName:@&quot;Courier-BoldOblique&quot; size:17.0] range:NSMakeRange(10, 10)];
</code></pre><hr>
<h4 id="文本段落排版格式"><a href="#文本段落排版格式" class="headerlink" title="文本段落排版格式"></a>文本段落排版格式</h4><pre><code>#pragma mark ** 2. NSParagraphStyleAttributeName 设置文本段落排版格式
NSMutableParagraphStyle *style = [[NSMutableParagraphStyle alloc] init];
style.firstLineHeadIndent = 20;
style.lineSpacing = 10;
[mAttStri addAttribute:NSParagraphStyleAttributeName value:style range:NSMakeRange(0, mAttStri.length / 2)];
</code></pre><hr>
<h4 id="字体颜色"><a href="#字体颜色" class="headerlink" title="字体颜色"></a>字体颜色</h4><pre><code>#pragma mark ** 3. NSForegroundColorAttributeName 设置字体颜色
/* 值为UIColor，字体颜色，默认为黑色. */
[mAttStri addAttribute:NSForegroundColorAttributeName value:[UIColor redColor] range:NSMakeRange(0, mAttStri.length)];
</code></pre><hr>
<h4 id="字体所在区域背景颜色"><a href="#字体所在区域背景颜色" class="headerlink" title="字体所在区域背景颜色"></a>字体所在区域背景颜色</h4><pre><code>#pragma mark ** 4. NSBackgroundColorAttributeName 设置字体所在区域背景颜色
/* 值为UIColor，字体背景色，默认透明. */
[mAttStri addAttribute:NSBackgroundColorAttributeName value:[UIColor grayColor] range:NSMakeRange(0, 20)];
</code></pre><hr>
<h4 id="连体属性"><a href="#连体属性" class="headerlink" title="连体属性"></a>连体属性</h4><pre><code>#pragma mark ** 5. NSLigatureAttributeName 设置连体属性
/* 取值为NSNumber 对象(整数). 0 表示没有连体字符, 1 表示使用默认的连体字符. 一般中文用不到，在英文中可能出现相邻字母连笔的情况 */
[mAttStri addAttribute:NSLigatureAttributeName value:@0 range:NSMakeRange(0, mAttStri.length)];
</code></pre><hr>
<h4 id="字符间距"><a href="#字符间距" class="headerlink" title="字符间距"></a>字符间距</h4><pre><code>#pragma mark ** 6. NSKernAttributeName 设置字符间距
/* 值为浮点数NSNumber，字距属性，默认值为0。*/
[mAttStri addAttribute:NSKernAttributeName value:@3 range:NSMakeRange(0, mAttStri.length)];
</code></pre><hr>
<h4 id="删除线"><a href="#删除线" class="headerlink" title="删除线"></a>删除线</h4><pre><code>#pragma mark ** 7. NSStrikethroughStyleAttributeName 设置删除线
/* 值为整型NSNumber，可取值为
    enum {

    NSUnderlineStyleNone = 0×00,

    NSUnderlineStyleSingle = 0×01,

    }; 设置删除线。
*/
[mAttStri addAttribute:NSStrikethroughStyleAttributeName value:@3 range:NSMakeRange(3, 7)];
</code></pre><hr>
<h4 id="删除线颜色"><a href="#删除线颜色" class="headerlink" title="删除线颜色"></a>删除线颜色</h4><pre><code>#pragma mark ** 8. NSStrikethroughColorAttributeName 设置删除线颜色
/* 这个属性的值是一个UIColor对象. */
[mAttStri addAttribute:NSStrikethroughColorAttributeName value:[UIColor blueColor] range:NSMakeRange(3, 3)];
</code></pre><hr>
<h4 id="下划线"><a href="#下划线" class="headerlink" title="下划线"></a>下划线</h4><pre><code>#pragma mark ** 9. NSUnderlineStyleAttributeName 设置下划线
/* 取值为 NSNumber 对象（整数），枚举常量 NSUnderlineStyle中的值，与删除线类似 */
[mAttStri addAttribute:NSUnderlineStyleAttributeName value:@2 range:NSMakeRange(6, 5)];
</code></pre><hr>
<h4 id="下划线颜色"><a href="#下划线颜色" class="headerlink" title="下划线颜色"></a>下划线颜色</h4><pre><code>#pragma mark ** 10. NSUnderlineColorAttributeName 设置下划线颜色
/* 这个属性的值是一个UIColor对象.默认值为nil. */
[mAttStri addAttribute:NSUnderlineColorAttributeName value:[UIColor blackColor] range:NSMakeRange(6, 5)];
</code></pre><hr>
<h4 id="笔画粗细"><a href="#笔画粗细" class="headerlink" title="笔画粗细"></a>笔画粗细</h4><pre><code>#pragma mark ** 11. NSStrokeWidthAttributeName 设置笔画宽度(粗细)
/* 值为浮点数NSNumber。设置笔画的粗细。负值填充效果，正值中空效果. */
[mAttStri addAttribute:NSStrokeWidthAttributeName value:@10 range:NSMakeRange(50, 30)];
</code></pre><hr>
<h4 id="填充部分颜色-不是字体颜色"><a href="#填充部分颜色-不是字体颜色" class="headerlink" title="填充部分颜色(不是字体颜色)"></a>填充部分颜色(不是字体颜色)</h4><pre><code>#pragma mark ** 12. NSStrokeColorAttributeName 填充部分颜色，
/* 不是字体颜色，取值为 UIColor 对象 默认值为nil，设置的属性同ForegroundColor。*/
[mAttStri addAttribute:NSStrokeColorAttributeName value:[UIColor orangeColor] range:NSMakeRange(50, 20)];
</code></pre><hr>
<h4 id="阴影属性"><a href="#阴影属性" class="headerlink" title="阴影属性"></a>阴影属性</h4><pre><code>#pragma mark ** 13. NSShadowAttributeName 设置阴影属性

/* 值为NSShadow，设置笔画的阴影，默认值为nil。*/
NSShadow *shadow = [[NSShadow alloc]init];
shadow.shadowOffset = CGSizeMake(10, 10);
shadow.shadowColor = [UIColor greenColor];
[mAttStri addAttribute:NSShadowAttributeName value:shadow range:NSMakeRange(20, 10)];
</code></pre><hr>
<h4 id="文本特效"><a href="#文本特效" class="headerlink" title="文本特效"></a>文本特效</h4><pre><code>#pragma mark ** 14. NSTextEffectAttributeName 设置文本特殊效果
/* 这个属性的值是一个NSString对象。使用此属性指定的文字效果，如NSTextEffectLetterpressStyle。此属性的默认值为nil，表示没有文本效应。*/
[mAttStri addAttribute:NSTextEffectAttributeName value:NSTextEffectLetterpressStyle range:NSMakeRange(80, 10)];
</code></pre><hr>
<h4 id="基线偏移值"><a href="#基线偏移值" class="headerlink" title="基线偏移值"></a>基线偏移值</h4><pre><code>#pragma mark ** 15. NSBaselineOffsetAttributeName 设置基线偏移值
/* 此属性的值是包含一个浮点值的NSNumber对象,表示的字符从基线偏移的NSNumber对象，默认值是0。正值上偏，负值下偏 */
[mAttStri addAttribute:NSBaselineOffsetAttributeName value:@5 range:NSMakeRange(112, 10)];
</code></pre><hr>
<h4 id="字形-左倾-右倾"><a href="#字形-左倾-右倾" class="headerlink" title="字形(左倾 右倾)"></a>字形(左倾 右倾)</h4><pre><code>#pragma mark ** 16. NSObliquenessAttributeName 设置字形倾斜度取值为 NSNumber （float）,正值右倾，负值左倾
/* 此属性的值是包含一个浮点值的NSNumber对象。默认值为0，表示没有倾斜, 正值右倾，负值左倾。 */
[mAttStri addAttribute:NSObliquenessAttributeName value:@0.8 range:NSMakeRange(135, 15)];
</code></pre><hr>
<h4 id="文本横向-拉伸-压缩"><a href="#文本横向-拉伸-压缩" class="headerlink" title="文本横向 拉伸 压缩"></a>文本横向 拉伸 压缩</h4><pre><code>#pragma mark ** 17. NSExpansionAttributeName 设置文本横向拉伸属性
/* 取值为 NSNumber(float), 正值横向拉伸文本, 负值横向压缩文本 */
NSRange range =  [string rangeOfString:@&quot;An association of&quot;];
[mAttStri addAttribute:NSExpansionAttributeName value:@1.0 range:range];
</code></pre><hr>
<h4 id="文字书写方向"><a href="#文字书写方向" class="headerlink" title="文字书写方向"></a>文字书写方向</h4><pre><code>#pragma mark ** 18. NSWritingDirectionAttributeName 设置文字书写方向
/** 
 * 取值为包含NSNumber对象的数组. 从左向右书写或者从右向左书写.
 *
 * The values of the NSNumber objects should be 0, 1, 2, or 3, for LRE, RLE, LRO, or RLO respectively, and combinations of NSWritingDirectionLeftToRight and NSWritingDirectionRightToLeft with NSTextWritingDirectionEmbedding or NSTextWritingDirectionOverride, as shown in Values of NSWritingDirectionAttributeName and equivalent markup.
 */
NSRange rang2 = [string rangeOfString:@&quot;characters and their&quot;];
[mAttStri addAttribute:NSWritingDirectionAttributeName value:@[@3] range:rang2];
</code></pre><hr>
<h4 id="文字排版方向-水平、垂直"><a href="#文字排版方向-水平、垂直" class="headerlink" title="文字排版方向(水平、垂直)"></a>文字排版方向(水平、垂直)</h4><pre><code>#pragma mark ** 19. NSVerticalGlyphFormAttributeName 设置文字排版方向
/**
 * 值为整型NSNumber，0为水平排版的字，1为垂直排版的字。注意,在iOS中, 总是以横向排版
 *
 * In iOS, horizontal text is always used and specifying a different value is undefined.
 */
[mAttStri addAttribute:NSVerticalGlyphFormAttributeName value:@1 range:NSMakeRange(1, 10)];
</code></pre><hr>
<h4 id="超链接"><a href="#超链接" class="headerlink" title="超链接"></a>超链接</h4><pre><code>#pragma mark ** 20. NSLinkAttributeName 设置链接属性
/**
 * 此属性的值是NSURL对象（首选）或一个NSString对象。此属性的默认值为nil，表示没有链接。
 * UILabel无法使用该属性, 可以使用UITextView 控件.
 */
UITextView *textView = [[UITextView alloc] initWithFrame:CGRectMake(20, 450, 320, 60)];
[self.view addSubview:textView];
textView.backgroundColor  = [UIColor lightGrayColor];

NSString *strLink = @&quot;百度链接&quot;;
NSAttributedString *attStr  = [[NSAttributedString alloc] initWithString:strLink attributes:@{NSLinkAttributeName: [NSURL URLWithString:@&quot;http://www.baidu.com&quot;]}];

textView.editable = NO;

/* 签订协议, 指定代理人之后. 但点击链接时, 会回调协议方法 (- textView:shouldInteractWithURL:inRange:) */
textView.delegate = self;

textView.attributedText = attStr;
</code></pre><hr>
<h4 id="文本附件"><a href="#文本附件" class="headerlink" title="文本附件"></a>文本附件</h4><pre><code>#pragma mark ** 21. NSAttachmentAttributeName 设置文本附件
/* 这个属性的值是一个NSTextAttachment对象。此属性的默认值为nil，表示无附件。*/

/**
 * 关于NSTextAttachment类的简单说明
 *
 * NSTextAttachment 类有一个指定的初始化方法(- initWithData:ofType:), 需要指定附件文档的数据和附件文件的类型. 如果附件文档数据指定nil, 那么系统将会默认指定为image对象作为值. 因此, 也可以通过这个特性实现图文混排.
 * 下面就以附件为image对象来说明NSAttachmentAttributeName的使用.
 */

UILabel *label = [[UILabel alloc] initWithFrame:CGRectMake(20, 550, 320, 60)];
label.backgroundColor = [UIColor yellowColor];
[self.view addSubview:label];

/* 下面实现在百度两个汉字之间插入一个照片 */
NSString *stiAtt = @&quot;百度&quot;;

NSTextAttachment *attach = [[NSTextAttachment alloc] initWithData:nil ofType:nil];
attach.bounds = CGRectMake(0, 0, 50, 50);
attach.image = [UIImage imageNamed:@&quot;baidu.jpg&quot;];

NSAttributedString *strAtt = [NSAttributedString attributedStringWithAttachment:attach];

NSMutableAttributedString *strMatt = [[NSMutableAttributedString alloc] initWithString:stiAtt];

[strMatt insertAttributedString:strAtt atIndex:1];

label.attributedText = strMatt;

self.titleLabel.attributedText = mAttStri;
[self.titleLabel sizeToFit];
}
</code></pre><hr>
<h4 id="UITextView协议"><a href="#UITextView协议" class="headerlink" title="UITextView协议"></a>UITextView协议</h4><pre><code>#pragma mark - textView delegate 
-(BOOL)textView:(UITextView *)textView shouldInteractWithURL:(NSURL *)URL inRange:(NSRange)characterRange {
NSLog(@&quot;%s&quot;, __func__);
NSLog(@&quot;url: %@&quot;, URL);
return YES;
}
</code></pre><hr>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2015/03/20/NSAttributedString/" class="archive-article-date">
  	<time datetime="2015-03-20T11:14:35.000Z" itemprop="datePublished"><i class="icon-clock"></i>2015-03-20</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/NSAttributedString/">NSAttributedString</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/OC/">OC</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>

  
<nav id="article-nav">
  
    <a href="/2015/08/09/UITextView/" id="article-nav-newer" class="article-nav-link-wrap">
      <i class="icon-circle-left"></i>
      <div class="article-nav-title">
        
          UITextView
        
      </div>
    </a>
  
  
    <a href="/2015/03/06/runtime的那些巧用/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">Runtime</div>
      <i class="icon-circle-right"></i>
    </a>
  
</nav>




<div class="share_jia">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">Share to: &nbsp; </span>
		<a class="jiathis_button_facebook"></a> 
	    <a class="jiathis_button_twitter"></a>
	    <a class="jiathis_button_plus"></a> 
	    <a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
    <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="//v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>






<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="NSAttributedString" data-title=" NSAttributedString" data-url="http://yoursite.com/2015/03/20/NSAttributedString/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"true"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>





      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 Jmsp
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: false,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/",
		innerArchive: false
	}
</script>

<script src="/./main.js" type="text/javascript"></script>


    
<div class="tools-col">
  <ul class="btn-wrap">
    
    
    
    
  </ul>
  <div class="tools-wrap">
    

    

    

    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>